:root{
  --bg:#0b0d12;
  --panel:#111524e6;
  --border:#2a3040;
  --fg:#e8ecf3;
  --muted:#98a2b3;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font:14px/1.6 system-ui, Inter, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color:var(--fg); background:radial-gradient(1200px 600px at 10% -10%, #1b2234, transparent) , var(--bg);
}
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px; border-bottom:1px solid var(--border);
  background:#0d1117c9; backdrop-filter:saturate(140%) blur(8px); position:sticky; top:0; z-index:10;
}
.brand{font-weight:800} .brand .muted{color:var(--muted); font-weight:600}
.actions{display:flex; gap:10px; align-items:center}
select, .text{
  background:#0f1420; border:1px solid var(--border); color:var(--fg);
  padding:8px 10px; border-radius:10px; outline:none;
}
button{
  border:1px solid var(--border); background:#0f1420; color:var(--fg);
  padding:8px 12px; border-radius:12px; cursor:pointer;
}
button.primary{ background:linear-gradient(180deg,#111a2c,#0f1420); border-color:#2e3a56; box-shadow:var(--shadow) }
button.ghost{ background:transparent }
.wrap{ max-width:960px; margin:24px auto; padding:0 16px; display:grid; gap:16px; grid-template-columns:1fr 1fr }
@media (max-width:900px){ .wrap{ grid-template-columns:1fr } }
.card{ background:var(--panel); border:1px solid var(--border); border-radius:18px; padding:16px; box-shadow:var(--shadow) }
h2{ margin:0 0 8px; font-size:18px }
.muted{ color:var(--muted) } .tiny{ font-size:12px }
.row{ display:flex; gap:10px; align-items:center; margin-top:10px }
.counter{ display:flex; align-items:center; gap:12px; justify-content:center; margin:14px 0 }
.count{ font-size:46px; font-weight:900; min-width:80px; text-align:center; border-radius:12px; padding:6px 10px; background:#0d1220; border:1px solid var(--border) }
.hint{ margin-top:10px; color:var(--muted) }
/* Break Grid (Molalar) */
.break-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap:12px;
}
@media (max-width: 1000px){ .break-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 640px){ .break-grid{ grid-template-columns: 1fr; } }

.break-tile{
  background:#0f1420; border:1px solid var(--border); border-radius:14px; padding:10px;
}
.tile-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.tile-title{ font-weight:700; display:flex; align-items:center; gap:8px; }
.badge{ font-size:12px; padding:2px 6px; border-radius:999px; border:1px solid #2a3040; opacity:.9; }
.tile-body{ display:grid; grid-template-columns: 120px 1fr; gap:8px; align-items:center; }
.tile-body .mins{ width:110px; padding:6px 8px; border-radius:10px; border:1px solid var(--border); background:#0d1220; color:var(--fg) }
.tile-body .note{ min-height:46px; resize:vertical; padding:8px; border-radius:10px; border:1px solid var(--border); background:#0d1220; color:var(--fg) }
.tiny-btn{ font-size:12px; padding:6px 10px; }

/* Küçük görsel iyileştirme */
.break-tile .tile-head { margin-bottom: 6px; }
.break-tile .tile-body { grid-template-columns: 110px 1fr; }
.break-tile .badge { background:#0b1020; }
.break-tile .mins { width: 90px; text-align: right; }

/* ===== MOLA GRID — görünümü güçlendir ===== */
.break-grid{
  display:grid;
  grid-template-columns: repeat(5, minmax(220px,1fr));
  gap:18px;
}
@media (max-width: 1300px){ .break-grid{ grid-template-columns: repeat(4, minmax(220px,1fr)); } }
@media (max-width: 1100px){ .break-grid{ grid-template-columns: repeat(3, minmax(220px,1fr)); } }
@media (max-width: 800px){  .break-grid{ grid-template-columns: repeat(2, minmax(220px,1fr)); } }
@media (max-width: 560px){  .break-grid{ grid-template-columns: 1fr; } }

.break-tile{
  position: relative;
  background: linear-gradient(180deg, rgba(18,20,35,.75), rgba(14,16,28,.85));
  border:1px solid #2a3040;
  border-radius:16px;
  padding:12px;
  box-shadow: 0 8px 28px rgba(0,0,0,.35);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.break-tile:hover{
  transform: translateY(-2px);
  box-shadow: 0 12px 36px rgba(0,0,0,.45);
  border-color:#3a4564;
}

.tile-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.tile-title{ font-weight:800; letter-spacing:.2px; }

.badge{
  font-size:12px; padding:2px 8px; border-radius:999px;
  border:1px solid #2a3040; background: rgba(10,12,20,.6);
}
.badge-rest{    border-color:#4a5066; }
.badge-lunch{   border-color:#2d6cdf; box-shadow: inset 0 0 0 1px rgba(45,108,223,.35); }
.badge-wellness{border-color:#1fa1aa; box-shadow: inset 0 0 0 1px rgba(31,161,170,.35); }
.badge-meeting{ border-color:#d9a736; box-shadow: inset 0 0 0 1px rgba(217,167,54,.35); }
.badge-custom{  border-color:#6b6f82; }

.break-tile .note{
  width:100%; min-height:92px; resize:vertical;
  padding:10px; border-radius:12px;
  border:1px solid var(--border);
  background:#0d1220; color:var(--fg);
}

/* Sağdaki süre kapsülü */
.mins-float{
  position:absolute; right:-34px; top:50%; transform: translateY(-50%);
  display:flex; align-items:center; gap:6px;
  background:#0b1020; border:1px solid #2a3040; border-radius:12px;
  padding:6px 8px;
  box-shadow: 0 6px 22px rgba(0,0,0,.35);
}
.mins-float-input{
  width:54px; text-align:right;
  padding:6px 8px; border-radius:8px; border:1px solid #2a3040;
  background:#0f1420; color:var(--fg);
}
.mins-unit{ font-size:12px; color:var(--muted) }

/* Küçük ekranlarda sağ kapsülü içeri al */
@media (max-width: 1100px){
  .mins-float{ position:static; transform:none; margin-top:8px; }
}

/* ==== Breaks v2 (sade & taşmasız) ==== */
.break-grid{
  display:grid;
  grid-template-columns: repeat(5, minmax(220px,1fr));
  gap:18px;
}
@media (max-width: 1300px){ .break-grid{ grid-template-columns: repeat(4, minmax(220px,1fr)); } }
@media (max-width: 1100px){ .break-grid{ grid-template-columns: repeat(3, minmax(220px,1fr)); } }
@media (max-width: 800px){  .break-grid{ grid-template-columns: repeat(2, minmax(220px,1fr)); } }
@media (max-width: 560px){  .break-grid{ grid-template-columns: 1fr; } }

.break-tile{
  background: linear-gradient(180deg, rgba(18,20,35,.75), rgba(14,16,28,.85));
  border:1px solid #2a3040; border-radius:16px; padding:12px;
  box-shadow: 0 8px 28px rgba(0,0,0,.35);
}
.tile-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.tile-title{ font-weight:800; letter-spacing:.2px; }
.badge{ font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #2a3040; background:#0b1020; }
.break-tile .note{ width:100%; min-height:90px; resize:vertical; padding:10px; border-radius:12px;
  border:1px solid var(--border); background:#0d1220; color:var(--fg) }

/* Başlığa/rozete tıklanabilir görsel ipucu */
.tile-title.editable { cursor:text; }
.badge.clickable { cursor:pointer; }
.badge.clickable:hover { outline:1px solid #2d6cdf; box-shadow: inset 0 0 0 1px rgba(45,108,223,.35) }

/* Interval Composer */
.ic .ic-row{ flex-wrap:wrap; gap:8px; align-items:center }
.ic .ic-row label{ min-width:70px }
.ic .ic-row #icSlot{ min-width:170px }

.ic .ic-tools{ gap:8px; align-items:center }
.chip{
  border-radius:999px; padding:4px 10px; border:1px solid var(--border);
  background:#0f1420; cursor:pointer;
}
.chip:hover{ outline:1px solid #21314f }
.ic-preview{
  padding:6px 10px; border-radius:999px; background:#0b1020;
  border:1px solid #2a3040; min-height:28px
}
.ic .spacer{ flex:1 1 auto }

/* ===== Dashboard ===== */
#dashWrap{ grid-template-columns: 1fr 1fr 1fr; }
.clock-card{ grid-column: 1 / -1; text-align:center; }
.clock{ font-size:42px; font-weight:900; letter-spacing:1px }

.summary-card h3{ margin:0 0 8px; font-size:16px; opacity:.9 }
.summary-line{ color:var(--muted) }
.summary-big{ font-size:22px; font-weight:800; margin-top:6px }

@media (max-width:900px){
  #dashWrap{ grid-template-columns: 1fr; }
}

/* Özel Interval UI */
.si .si-row{ gap:10px; align-items:center; flex-wrap:wrap }
.si .btn-group .chip{ padding:4px 12px; border-radius:999px; cursor:pointer }
.si .btn-group .chip.active{ outline:1px solid #2d6cdf; box-shadow: inset 0 0 0 1px rgba(45,108,223,.35) }
.si .si-actions{ align-items:center; gap:8px }
.text.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace }

/* 3'lü üst sıra */
#dashWrap{
  display:grid; gap:18px;
  grid-template-columns: repeat(3, 1fr);
}
.clock-card{ grid-column: 1 / -1; text-align:center; }
.clock{ font-size:42px; font-weight:900; letter-spacing:1px }

.summary-card h3{ margin:0 0 8px; font-size:16px; opacity:.9 }
.summary-line{ color:var(--muted) }
.summary-big{ font-size:22px; font-weight:800; margin-top:6px }

@media (max-width:1000px){
  #dashWrap{ grid-template-columns: 1fr }
}

/* Özel interval kartı (molalar üstünde) */
#siRow .card{ padding-top:14px; }
.si .si-row{ gap:10px; align-items:center; flex-wrap:wrap }
.si .btn-group .chip{ padding:4px 12px; border-radius:999px; cursor:pointer }
.si .btn-group .chip.active{ outline:1px solid #2d6cdf; box-shadow: inset 0 0 0 1px rgba(45,108,223,.35) }
.si .si-actions{ align-items:center; gap:8px }
.text.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace }


/* === KZS layout fix — üç bölüm aynı genişlik ve hizalama === */

/* Hepsi aynı konteyner genişliğinde (kenarlar aynı hizaya gelir) */
#dashWrap.wrap,
#siRow.wrap,
main.wrap {
  max-width: 1180px !important;   /* istersen 1100–1280 arası ayarla */
  margin: 24px auto !important;
  padding: 0 16px !important;
}

/* ÜST CLUSTER: Saat + 3 kart */
#dashWrap.wrap {
  display: grid !important;
  grid-template-columns: repeat(3, minmax(0,1fr)) !important;
  gap: 18px !important;
}
#dashWrap .clock-card { grid-column: 1 / -1; text-align: center; }

/* İKİ SÜTUNU KAPAT: özel interval ve ana <main> tek sütun olsun */
#siRow.wrap,
main.wrap {
  display: block !important;                  /* grid değil */
  grid-template-columns: none !important;     /* önceki .wrap kuralını etkisiz yap */
}

/* Üst cluster’daki üç kartın yüksekliğini eşitle */
#dashWrap .card:not(.clock-card) {
  display: flex;
  flex-direction: column;
  min-height: 176px;          /* 160–200 arası istediğin gibi oynatabilirsin */
}

/* Kart iç paddinglerini aynıla (kenarlar temiz dursun) */
#dashWrap .card,
#siRow .card,
main.wrap > .card {
  padding: 16px 18px !important;
}

/* ==== Üst 3 karttaki boşlukları azalt ==== */
#dashWrap .card:not(.clock-card){
  min-height: 140px !important;   /* önce 176 idi, gerekirse 130–160 arası oynat */
}
.clock-card{ padding-block: 10px !important; }

/* ==== Özel interval kartını iki sütun yap ==== */
.si .si-grid{
  display: grid;
  grid-template-columns: clamp(240px, 32%, 360px) 1fr;
  gap: 16px;
}
.si .si-left .si-row{ display:flex; gap:10px; align-items:center; margin: 6px 0; }
.si .text.big{ font-size:16px; padding:10px 12px; height:40px; }
.si #siLines{ width:100%; height: 260px; }  /* büyük alan */
.si .si-actions{ display:flex; align-items:center; gap:10px; margin-top:8px; }

/* ==== Molalar taşmasın: sağ kapsülü içeri al ==== */
.break-tile{ padding-right: 72px !important; }              /* kapsül için içeriden boşluk */
.mins-float{ right: 8px !important; }                       /* -34px yerine içeride dursun */

/* İstersen grid daha akışkan olsun */
body .break-grid{
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)) !important;
}

/* Konteynerlerin ortak genişliği/hizası (önceki paketin devamı) */
#dashWrap.wrap, #siRow.wrap, main.wrap{
  max-width: 1180px !important;
  margin: 24px auto !important;
  padding: 0 16px !important;
}

/* === Üst 3 kartı sıkıştır (boşlukları azalt) === */
#dashWrap .card:not(.clock-card){ min-height:120px !important; padding:14px 16px !important; }
.clock-card{ padding-block: 8px !important; }
.summary-big{ font-size:20px !important; margin-top:4px !important; }

/* === Molalar 5 sütun, taşma yok === */
.break-grid{
  display:grid !important;
  grid-template-columns: repeat(5, minmax(0,1fr)) !important;
  gap:16px !important;
}
/* viewport daralınca kademeli düşsün */
@media (max-width: 1200px){ .break-grid{ grid-template-columns: repeat(4, minmax(0,1fr)) !important; } }
@media (max-width: 980px){  .break-grid{ grid-template-columns: repeat(3, minmax(0,1fr)) !important; } }
@media (max-width: 700px){  .break-grid{ grid-template-columns: repeat(2, minmax(0,1fr)) !important; } }
@media (max-width: 480px){  .break-grid{ grid-template-columns: 1fr !important; } }

/* dakika kapsülü kartın içinde kalsın */
.break-tile{ padding-right:84px !important; }
.mins-float{ right:10px !important; }

/* === Özel interval – geniş iki sütun düzeni === */
.si .si-grid{ display:grid; grid-template-columns: clamp(240px, 32%, 360px) 1fr; gap:16px; }
#siLines{ width:100%; height:260px; }

/* Pill saat seçici */
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
.time-pill{
  display:inline-flex; align-items:center; gap:6px;
  background:#0f1420; border:1px solid var(--border);
  padding:6px 10px; border-radius:12px;
}
.pill-select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:transparent; border:none; color:var(--fg);
  font-weight:800; font-size:16px; padding:2px 4px; outline:none; cursor:pointer;
}
.time-pill .colon{ font-weight:900; opacity:.7; }

/* ====== KZS layout v2 ====== */

/* Kart içeriklerini sıkılaştır (üstteki büyük boşlukları küçült) */
.clock-card { padding: 10px 16px; }
.clock      { font-size: 36px; letter-spacing: .5px; }

#dashWrap .card { padding: 14px 16px; }
.summary-card{
  min-height: 120px;               /* eskisinden belirgin daha kısa */
  display:flex; flex-direction:column; justify-content:space-between;
}
.summary-card h3{ margin:0 0 6px; font-size:15px; }
.summary-big   { font-size:20px; margin-top:4px; }

/* === Molalar: 5 sütun sabit (taşmadan) === */
.break-grid{
  display:grid;
  grid-template-columns: repeat(5, minmax(200px, 1fr));  /* 5 kolon */
  gap:16px;
}
@media (max-width: 1260px){ .break-grid{ grid-template-columns: repeat(4, minmax(200px,1fr)); } }
@media (max-width: 1000px){ .break-grid{ grid-template-columns: repeat(3, minmax(200px,1fr)); } }
@media (max-width: 760px){  .break-grid{ grid-template-columns: repeat(2, minmax(200px,1fr)); } }
@media (max-width: 520px){  .break-grid{ grid-template-columns: 1fr; } }

/* Tile’ları biraz daha kompakt yap */
.break-tile .note{ min-height: 78px; }  /* eskisi 90+ idi */

/* === Özel interval kartı yeni düzen === */
.si-grid{ display:grid; grid-template-columns: 260px 1fr; gap:16px; align-items:start; }
@media (max-width: 900px){ .si-grid{ grid-template-columns: 1fr; } }

.si .control{ display:flex; flex-direction:column; gap:12px; }

.time-pill{ display:flex; gap:8px; align-items:center; }
.time-pill select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background:#0f1420; border:1px solid var(--border); color:var(--fg);
  padding:8px 12px; border-radius:12px; font-weight:700; min-width:72px;
  text-align:center;
}
.time-pill .sep{ opacity:.6; font-weight:700; }

.biglist{ height: 260px; min-height: 220px; width:100%; }

/* Buton çiplerinin aktif hali daha belirgin */
.btn-group .chip.active{
  outline:1px solid #2d6cdf;
  box-shadow: inset 0 0 0 1px rgba(45,108,223,.35);
}

/* ==== COMPACT OVERRIDE – üst cluster küçült, molalar 5 sütun ==== */

/* ÜST CLUSTER (saat + 3 kart) */
#dashWrap{
  display:grid !important;
  grid-template-columns: repeat(3, minmax(0,1fr)) !important;
  gap:14px !important;
}
#dashWrap .clock-card{ grid-column:1 / -1; padding:8px 10px !important; }
#dashWrap .clock,
#liveClock{ font-size:32px !important; line-height:1.2 !important; }

/* Üç küçük kartı **gerçekten** sıkılaştır */
#dashWrap .card:not(.clock-card){
  min-height:100px !important;                 /* önce 160–176 idi */
  padding:10px 12px !important;
  display:flex !important; flex-direction:column !important;
  justify-content:space-between !important;
}
#dashWrap .card:not(.clock-card) h3{ font-size:14px !important; margin:0 0 4px !important; }
.summary-line{ font-size:12px !important; }
.summary-big { font-size:18px !important; margin-top:2px !important; }

/* Sayaç içi boşluğu da küçült */
.counter{ margin:8px 0 !important; gap:8px !important; }
.count  { font-size:36px !important; min-width:64px !important; padding:4px 8px !important; }

/* MOLALAR – 5 sütun sabit, kademeli düşüş ve taşma yok */
.break-grid{
  display:grid !important;
  grid-template-columns: repeat(5, minmax(190px,1fr)) !important; /* 5 kolon */
  gap:14px !important;
}
@media (max-width:1260px){ .break-grid{ grid-template-columns:repeat(4, minmax(190px,1fr)) !important; } }
@media (max-width:1000px){ .break-grid{ grid-template-columns:repeat(3, minmax(190px,1fr)) !important; } }
@media (max-width:760px) { .break-grid{ grid-template-columns:repeat(2, minmax(190px,1fr)) !important; } }
@media (max-width:520px) { .break-grid{ grid-template-columns:1fr !important; } }

/* Tile’ları kompakt tut */
.break-tile .note{ min-height:72px !important; }
.break-tile{ padding-right:80px !important; }   /* dakika kapsülü için içeriden boşluk */
.mins-float{ right:10px !important; }           /* kapsül artık dışarı taşmaz */
